#!/bin/bash

#itermlauncher - open editor, create iterm layout, start gulp

# create new tab and split it
IFS='%'
osascript -e '
tell application "iTerm2"
try

  tell current session of current window

write text "  __________                   __               __   "
write text "  \\______   \\_______  ____    |__| ____   _____/  |_ "
write text "   |     ___/\\_  __ \\/  _ \\   |  |/ __ \\_/ ___\\   __\\"
write text "   |    |     |  | \\(  <_> )  |  \\  ___/\\  \\___|  |  "
write text "   |____|     |__|   \\____/\\__|  |\\___  >\\___  >__|  "
write text "                          \\______|    \\/     \\/      "
write text "    _________ __                 __                  "
write text "   /   _____//  |______ ________/  |_  ___________   "
write text "   \\_____  \\\\   __\\__  \\\\_  __ \\   __\\/ __ \\_  __ \\  "
write text "   /        \\|  |  / __ \\|  | \\/|  | \\  ___/|  | \\/  "
write text "  /_______  /|__| (____  /__|   |__|  \\___  >__|     "
write text "          \\/           \\/                 \\/         "
write text "                                                     "

    set name to "GULP:"
    write text "vim ."
    split vertically with same profile
   end tell

  tell the last session of current tab of current window
    write text "vim ."
    split vertically with same profile
  end tell

  tell the last session of current tab of current window
    write text "savesite"
    split horizontally with same profile
  end tell

  tell the last session of current tab of current window
    write text "gup"
  end tell

  tell the third session of current tab of current window
    select
  end tell

  end try
end tell
'
